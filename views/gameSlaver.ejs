<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><%=title%></title>
    <style>
        *{
            margin:0;
            padding:0;
            
        }
        #drawer,#drawer_copy{
            border:1px solid red;
        }
        button{
            padding: 5px 20px;
            margin: 0 10px;
        }

    </style>
</head>
<body>
<p>roomeID: <%=roomInfo.id%>, username: <%=username%></p>
<canvas width="400" height="400" id="drawer_copy"></canvas>
<script src="/socket.io/socket.io.js"></script>
<script>
    var cdom_copy = document.getElementById('drawer_copy');
    var cobj_copy = cdom_copy.getContext('2d');
    
    // init socket
    var socket = io.connect('http://localhost:3001');
    socket.on('drawSync', function (data) {
        console.log("drawSync message: " + JSON.stringify(data));
        var points = data ;

        if(points.length>1) {
            cobj_copy.beginPath();
            cobj_copy.moveTo(points[0][0], points[0][1]);
            for (var i = 1, c = points.length; i < c; i++) {
                cobj_copy.lineTo(points[i][0], points[i][1]) ;
            }
            cobj_copy.stroke();
        }
    });

    //init socket ok


</script>
</body>
</html>
